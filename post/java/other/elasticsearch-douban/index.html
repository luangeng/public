<!DOCTYPE html>
<html>

<head>
  <base href="https://wawazhua.cn">
  <title>爬取电影信息使用Elasticsearch检索 - 计算机与软件技术公开课</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="keywords" content="爬取电影信息使用Elasticsearch检索 - 计算机与软件技术公开课">
  <meta name="description" content="爬取信息存储到Elasticsearch检索">
  <meta itemprop="name" content="爬取电影信息使用Elasticsearch检索 - 计算机与软件技术公开课">
  <meta itemprop="description" content="爬取信息存储到Elasticsearch检索">
  <meta property="og:title" content="爬取电影信息使用Elasticsearch检索 - 计算机与软件技术公开课" />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://wawazhua.cn/post/java/other/elasticsearch-douban/" />
  <meta property="og:site_name" content="luangeng" />
  <meta property="og:description" content="爬取信息存储到Elasticsearch检索">

  <link rel="canonical" href="https://wawazhua.cn/post/java/other/elasticsearch-douban/">
  <link rel='shortlink' href="https://wawazhua.cn/post/java/other/elasticsearch-douban/">
  <link rel="shortcut icon" href="img/favicon.png" />

  <link rel="stylesheet" type="text/css" media="all" href="themes/hueman/style.css" />
  <link rel="stylesheet" type="text/css" media="all" href="themes/hueman/responsive.css" />
  <link rel="stylesheet" type="text/css" media="all" href="themes/hueman-child/style.css" />
  <link rel="stylesheet" type="text/css" media="all" href="themes/hueman-child/user.css" />
  <link rel="stylesheet" type="text/css" media="all" href="font/hack/css/hack.min.css">
  <link rel="stylesheet" type="text/css" media="all" href="css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" media="all" href="css/code/rainbow.css">
  <link rel="stylesheet" type="text/css" media="all" href="css/sweetalert2.min.css">

  

</head>

<body class="single single-post single-format-standard col-3cm full-width topbar-enabled chrome">
    <div id="wrapper">
        <header id="header">

  <nav class="nav-container group" id="nav-topbar">
    <div class="nav-toggle"><i class="fa fa-bars"></i></div>
    <div class="nav-text"></div>
    <div class="nav-wrap container">
      <ul id="menu-default-menu" class="nav container-inner group">
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="https://wawazhua.cn/">首页</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="https://wawazhua.cn/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="https://wawazhua.cn/categories/Java/">Java</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="https://wawazhua.cn/categories/Go/">Go</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="https://wawazhua.cn/categories/%E4%BA%91%E8%AE%A1%E7%AE%97/">云计算</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="https://wawazhua.cn/categories/%E6%9E%B6%E6%9E%84/">架构</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="https://wawazhua.cn/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a>
        </li>
        

        
        <li class="menu-item menu-item-type-post_type menu-item-text">
        
        </li>
      </ul>
    </div>

    <div class="container">
      <div class="container-inner">

        <div class="right-head">
          
          
        </div>
      </div>
    </div>
    

  </nav>
  

  <div class="container group">
    <div class="container-inner">

      <div class="group pad">

        <div class="group pad">
          <h1 class="site-title">
            <a rel="nofollow" href="https://wawazhua.cn" rel="home">
              
              计算机与软件技术公开课
            </a>
          </h1>
          <span class="site-description">  </span>
        </div>

      </div>
    </div>
    
  </div>
  

</header>



        <div class="container" id="page">
            <div class="container-inner">
                <div class="main">
                    <div class="main-inner group">
                        <section class="content">
                            <div class="page-title pad group">
                                <ul class="meta-single group">
                                    
                                    <li class="category">
                                        <span>Java</span>
                                    </li>
                                    
                                </ul>
                            </div>

                            <div class="pad group">

                                <article
                                    class="post type-post status-publish format-standard has-post-thumbnail hentry category-australien tag-bondi-beach tag-city2surf tag-sydney">
                                    <div class="post-inner group">

                                        <h1 class="post-title">爬取电影信息使用Elasticsearch检索</h1>

                                        <p class="post-byline">
                                            Posted @ 2018-12-05 · 1760 Words
                                            
                                            · Tags: elasticsearch
                                            
                                            
                                            
                                            
                                            · Hits:
                                            <span class="leancloud_visitors" data-flag-title="爬取电影信息使用Elasticsearch检索">
                                                <span class="leancloud-visitors-count"></span>
                                            </span>
                                        </p>


                                        <div class="clear"></div>

                                        <div class="entry">
                                            <div class="entry-inner">
                                                
                                                <p>爬虫代码源于网络,修改其中的数据库操作为ES数据访问.</p>
<p>实体类:</p>
<p>爬取记录:</p>
<pre><code>@Data
public class Record {
    public static final String TYPE_MOVIE = &quot;Movie&quot;;
    public static final String TYPE_COMMENT = &quot;Comment&quot;;
    public static final String TYPE_OTHER = &quot;Other&quot;;

    public static final int STATUS_UNCRAWLED = 0;
    public static final int STATUS_CRAWLED = 1;
    public static final int STATUS_ERROR = 2;

    private String id;

    private String url;
    private Integer crawled;
    private String type;

}
</code></pre><p>电影:</p>
<pre><code>@Data
public class Movie {
    private Integer id;

    private String name;
    private String director;
    private String scenarist;

    private String actors;

    private String type;
    private String country;
    private String language;

    private String releaseDate;

    private String runtime;
    private String ratingNum;
    private String tags;
    private String recordId;
    private String url;
    private String subjectId;

    private String summary;

}
</code></pre><p>评论:</p>
<pre><code>@Data
public class Comment {
    public static final Integer ContentLength = 2000;

    private Integer id;

    private String content;
    private String author;
    private String authorImg;
    private Integer vote;
    private String movie;
    private Integer movieId;
    private String subjectId;
    private String recordId;

}
</code></pre><p>爬虫服务类:</p>
<pre><code>@Service
public class DoubanService {

    public static final String MAIN_URL = &quot;https://movie.douban.com&quot;;
    public static final String BASE_URL = &quot;https://movie.douban.com/subject&quot;;
    public static final Integer MAX_COUNT = 10000;
    public static final Integer DEFAULT_DATA_LENGTH = 255;

    @Autowired
    private EsDao esDao;

    private Logger LOG = LoggerFactory.getLogger(&quot;CommonLog&quot;);

    public void crawl() {
        //因为想「每次抓取」作为「一个事务」，故循环放到service外面；
        for (int i = 0; i &lt; MAX_COUNT; i++) {
            try {
                sleepAwhile();
                crawlOnePage();
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    }

    public void crawlOnePage() throws Exception {
        Record record = getOneRecordToCrawl();
        String url = record.getUrl();
        LOG.info(&quot;Crawling url:&quot; + url);
        try {
            Document doc = Jsoup.connect(url).get();

            //1、抓取该page里是有用href的地址存到record里
            crawlValuableRecordInPage(doc);

            //2、抓取该page里的电影或影评
            if (Record.TYPE_MOVIE.equals(record.getType())) {
                crawlMovieInfo(doc, record);
            } else if (Record.TYPE_COMMENT.equals(record.getType())) {
                crawlCommentInfo(doc, record);
            }
            record.setCrawled(Record.STATUS_CRAWLED);

        } catch (HttpStatusException e) {
            record.setCrawled(Record.STATUS_ERROR);
            LOG.info(e.getMessage());
        } catch (Exception e) {
            newTxnToSave(record);
            LOG.info(e.getMessage());
            throw e;
        }
        esDao.saveRecord(record);
    }

    private void newTxnToSave(Record r) {
        r.setCrawled(Record.STATUS_ERROR);
        esDao.saveRecord(r);
    }

    private Record getOneRecordToCrawl() {
        Record r = esDao.getFirstRecordByStatus(Record.STATUS_UNCRAWLED);
        if (r == null) {
            r = new Record();
            r.setUrl(MAIN_URL);
            r.setCrawled(Record.STATUS_UNCRAWLED);
            r.setType(Record.TYPE_OTHER);
//            esDao.saveRecord(r);
        }
        return r;
    }

    private void crawlValuableRecordInPage(Document doc) {
        Elements hrefs = doc.select(&quot;a[href^='&quot; + BASE_URL + &quot;']&quot;);
        for (Element e : hrefs) {
            String href = e.attr(&quot;href&quot;).trim();
            String type = CommonUtil.whichType(href);
            if (type == null || Record.TYPE_OTHER.equals(type) || esDao.getRecordByUrl(href) != null) {
                continue;
            }
            Record record = new Record();
            record.setUrl(href);
            record.setCrawled(Record.STATUS_UNCRAWLED);
            record.setType(type);
            esDao.saveRecord(record);
        }
    }

    private void crawlMovieInfo(Document doc, Record record) {
        Element infoDiv = doc.getElementById(&quot;info&quot;);
        if (infoDiv == null) {
            return;
        }
        String subjectId = CommonUtil.extractSubjectId(record.getUrl());
        if (esDao.findMovieBySubjectId(subjectId) != null) {
            return;
        }

        Elements subInfos = infoDiv.children();
        Movie movie = new Movie();
        for (Element subInfo : subInfos) {
            if (subInfo.childNodeSize() &gt; 0) {
                String key = subInfo.getElementsByAttributeValue(&quot;class&quot;, &quot;pl&quot;).text();
                if (key == null || &quot;&quot;.equals(key)) {
                    continue;
                }
                if (&quot;导演&quot;.equals(key)) {
                    String director = subInfo.getElementsByAttributeValue(&quot;class&quot;, &quot;attrs&quot;).text();
                    movie.setDirector(CommonUtil.truncateString(director));
                } else if (&quot;编剧&quot;.equals(key)) {
                    movie.setScenarist(CommonUtil.truncateString(subInfo.getElementsByAttributeValue(&quot;class&quot;, &quot;attrs&quot;).text()));
                } else if (&quot;主演&quot;.equals(key)) {
                    String actors = subInfo.getElementsByAttributeValue(&quot;class&quot;, &quot;attrs&quot;).text();
                    movie.setActors(CommonUtil.truncateString(actors, 1000));
                }
            }
        }
        Pattern pattern = Pattern.compile(&quot;制片国家/地区:&lt;/span&gt;(.*?)\n&quot;);
        Matcher matcher = pattern.matcher(infoDiv.html());
        if (matcher.find()) {
            movie.setCountry(matcher.group(1).trim());
        }
        pattern = pattern.compile(&quot;语言:&lt;/span&gt;(.*?)\n&quot;);
        matcher = pattern.matcher(infoDiv.html());
        if (matcher.find()) {
            movie.setLanguage(matcher.group(1).trim());
        }
        movie.setType(infoDiv.getElementsByAttributeValue(&quot;property&quot;, &quot;v:genre&quot;).text());
        movie.setReleaseDate(infoDiv.getElementsByAttributeValue(&quot;property&quot;, &quot;v:initialReleaseDate&quot;).text());
        movie.setRuntime(infoDiv.getElementsByAttributeValue(&quot;property&quot;, &quot;v:runtime&quot;).text());
        movie.setTags(doc.getElementsByClass(&quot;tags-body&quot;).text());
        movie.setName(doc.getElementsByAttributeValue(&quot;property&quot;, &quot;v:itemreviewed&quot;).text());
        movie.setRatingNum(doc.getElementsByAttributeValue(&quot;property&quot;, &quot;v:average&quot;).text());
        movie.setSubjectId(subjectId);
        movie.setRecordId(record.getId());
        movie.setSummary(doc.getElementsByAttributeValue(&quot;property&quot;, &quot;v:summary&quot;).text().trim());

        LOG.info(&quot;Movie :《&quot; + movie.getName() + &quot;》 Points: &quot; + movie.getRatingNum() + &quot;\n&quot; + &quot;Summary:&quot; + movie.getSummary());
        esDao.saveMovie(movie);
    }

    private void crawlCommentInfo(Document doc, Record record) {
        Element el = doc.getElementById(&quot;comments&quot;);
        if (el != null) {
            String[] movies = doc.getElementsByTag(&quot;h1&quot;).text().replace(&quot; &quot;, &quot;&quot;).split(&quot;短评&quot;);
            String movieName = movies[0];

            Elements items = el.select(&quot;.comment-item&quot;);
            for (Element item : items) {
                if (item.getElementsByClass(&quot;fold-bd&quot;).size() &lt; 1 &amp;&amp; item.children().get(1).getElementsByTag(&quot;p&quot;).size() &gt; 0) {
                    // to make sure the current item is the comment item rather than other info item      &amp;&amp;      检测fold-bd是查看是否有折叠，如果是折叠的评论则有fold-bd，折叠评论是指账号有异常的
                    Comment comm = new Comment();
                    comm.setMovie(movieName);
                    //对评论内容去除4字节utf-8字符(包括Emoji表情)，因为mysql utf-8编码不支持
                    //(另一方式:mysql 改用 utf8mb4)
                    String content = item.children().get(1).getElementsByTag(&quot;p&quot;).text().trim();
                    content = CommonUtil.delUtf8mb4Chars(CommonUtil.truncateString(content, Comment.ContentLength));
                    comm.setContent(content);//use &quot;comment.children().get(1).text()&quot; can get all commentInfo like &quot;1819 有用 桃桃淘电影 2016-10-29 即便评分再高也完全喜欢不来。我们还是太热衷主题与意义了，以至于忽视了传递主题的方式与合理性。影片为了所谓的人性深度，而刻意设计剧情和人物转折，忽视基本的人物行为轨迹，都非常让人不舒服。喜欢有深度的电影，但希望能以更巧妙的方式讲出来，而不该是现在这样。以及形式上，这不就是舞台搬演么&quot;

                    comm.setVote(Integer.parseInt(item.getElementsByAttributeValue(&quot;class&quot;, &quot;votes&quot;).text()));
                    String author = item.getElementsByAttribute(&quot;href&quot;).get(2).text();
                    comm.setAuthor(CommonUtil.delUtf8mb4Chars(author));
                    comm.setAuthorImg(item.getElementsByAttribute(&quot;href&quot;).get(2).attr(&quot;href&quot;));
                    comm.setRecordId(record.getId());
                    comm.setSubjectId(CommonUtil.extractSubjectId(record.getUrl()));

                    LOG.info(&quot;Comment for 《&quot; + movieName + &quot;》:&quot; + comm.getContent());
                    esDao.saveComment(comm);
                }
            }
        }
    }

    public void deleteAll() {
        esDao.deleteAll();
    }
}
</code></pre><p>访问Es数据类:</p>
<pre><code>package com.luangeng.crawler;

import com.luangeng.common.Page;
import com.luangeng.common.entity.Comment;
import com.luangeng.common.entity.Movie;
import com.luangeng.common.entity.Record;
import com.luangeng.crawler.util.JacksonUtil;
import org.elasticsearch.action.index.IndexRequest;
import org.elasticsearch.action.index.IndexResponse;
import org.elasticsearch.action.search.SearchRequest;
import org.elasticsearch.action.search.SearchResponse;
import org.elasticsearch.client.RequestOptions;
import org.elasticsearch.client.RestHighLevelClient;
import org.elasticsearch.common.unit.TimeValue;
import org.elasticsearch.common.xcontent.XContentType;
import org.elasticsearch.index.query.QueryBuilders;
import org.elasticsearch.search.SearchHit;
import org.elasticsearch.search.SearchHits;
import org.elasticsearch.search.builder.SearchSourceBuilder;
import org.elasticsearch.search.sort.FieldSortBuilder;
import org.elasticsearch.search.sort.SortOrder;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Repository;

import java.io.IOException;
import java.util.List;
import java.util.concurrent.TimeUnit;

@Repository
public class EsDao {

    private static final String TYPE = &quot;doc&quot;;

    private static final String INDEX_RECORD = &quot;douban_record&quot;;

    private static final String INDEX_MOVIE = &quot;douban_movie&quot;;

    private static final String INDEX_COMMENT = &quot;douban_comment&quot;;

    @Autowired
    RestHighLevelClient client;// = new RestHighLevelClient(RestClient.builder(new HttpHost(&quot;localhost&quot;, 9200, &quot;http&quot;)));;

    public void saveComment(Comment comment) {
        try {
            IndexRequest request = new IndexRequest(INDEX_COMMENT, TYPE);
            request.source(JacksonUtil.toJson(comment), XContentType.JSON);
            IndexResponse indexResponse = client.index(request, RequestOptions.DEFAULT);

        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public void saveMovie(Movie movie) {
        try {
            IndexRequest request = new IndexRequest(INDEX_MOVIE, TYPE);
            request.source(JacksonUtil.toJson(movie), XContentType.JSON);
            IndexResponse indexResponse = client.index(request, RequestOptions.DEFAULT);
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public void saveRecord(Record record) {
        try {
            IndexRequest request;
            if (record.getId() == null) {
                request = new IndexRequest(INDEX_RECORD, TYPE);
            } else {
                request = new IndexRequest(INDEX_RECORD, TYPE, record.getId());
            }
            request.source(JacksonUtil.toJson(record), XContentType.JSON);
            IndexResponse indexResponse = client.index(request, RequestOptions.DEFAULT);
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public Record getFirstRecordByStatus(int status) {
        SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();
        sourceBuilder.query(QueryBuilders.termQuery(&quot;crawled&quot;, status));
        sourceBuilder.from(0);
        sourceBuilder.size(1);
        sourceBuilder.timeout(new TimeValue(60, TimeUnit.SECONDS));

        SearchRequest searchRequest = new SearchRequest(INDEX_RECORD);
        searchRequest.source(sourceBuilder);
        SearchResponse searchResponse = null;
        try {
            searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
        if (searchResponse == null) {
            return null;
        }
        SearchHits hits = searchResponse.getHits();
        SearchHit[] searchHits = hits.getHits();
        if (searchHits.length == 0) {
            return null;
        }
        Record r = JacksonUtil.jsonToBean(searchHits[0].getSourceAsString(), Record.class);
        r.setId(searchHits[0].getId());
        return r;
    }

    public Record getRecordByUrl(String url) {
        SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();
        sourceBuilder.query(QueryBuilders.termQuery(&quot;url&quot;, url));
        sourceBuilder.from(0);
        sourceBuilder.size(1);
        sourceBuilder.timeout(new TimeValue(60, TimeUnit.SECONDS));

        SearchRequest searchRequest = new SearchRequest(INDEX_RECORD);
        searchRequest.source(sourceBuilder);
        SearchResponse searchResponse = null;
        try {
            searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
        SearchHits hits = searchResponse.getHits();
        SearchHit[] searchHits = hits.getHits();
        if (searchHits.length == 0) {
            return null;
        }
        return JacksonUtil.jsonToBean(searchHits[0].getSourceAsString(), Record.class);
    }

    public Movie findMovieBySubjectId(String id) {
        SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();
        sourceBuilder.query(QueryBuilders.termQuery(&quot;subjectId&quot;, id));
        sourceBuilder.from(0);
        sourceBuilder.size(1);
        sourceBuilder.timeout(new TimeValue(60, TimeUnit.SECONDS));

        SearchRequest searchRequest = new SearchRequest(INDEX_MOVIE);
        searchRequest.source(sourceBuilder);
        SearchResponse searchResponse = null;
        try {
            searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
        SearchHits hits = searchResponse.getHits();
        SearchHit[] searchHits = hits.getHits();
        if (searchHits.length == 0) {
            return null;
        }
        return JacksonUtil.jsonToBean(searchHits[0].getSourceAsString(), Movie.class);
    }

    public void deleteAll() {
    }

    public SearchHit[] queryRecord(Record record, Page page){
        SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();
        if(record.getCrawled()!=null) {
            sourceBuilder.query(QueryBuilders.termQuery(&quot;crawled&quot;, record.getCrawled()));
        }
        sourceBuilder.from((page.getPage()-1)*page.getSize());
        sourceBuilder.size(page.getSize());
        sourceBuilder.timeout(new TimeValue(60, TimeUnit.SECONDS));
        sourceBuilder.sort(new FieldSortBuilder(&quot;_id&quot;).order(SortOrder.ASC));

        SearchRequest searchRequest = new SearchRequest(INDEX_RECORD);
        searchRequest.source(sourceBuilder);
        SearchResponse searchResponse = null;
        try {
            searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
        SearchHits hits = searchResponse.getHits();
        SearchHit[] searchHits = hits.getHits();
        return searchHits;
    }

}

</code></pre><p>爬取3小时后数量:</p>
<p><img src="pic/2018/es1.png" alt="pic"></p>

                                                
                                            </div>

                                            <div style="margin-top:40px">
                                                <a target="_blank" href="https://curl.qcloud.com/LDfM9YWb">
                                                    <img src="img/tenlong.jpg">
                                                </a>
                                            </div>

                                            <div style="border: 1px dashed #e0e0e0; padding: 5px; margin-top: 20px; background-color: #fffbba;">
    <div>
        <ul>
            <li>作者:luangeng</li>
            <li>主页:<a href="https://luangeng.space">https://luangeng.space</a></li>
            <li>本文出处:<a target="_blank" href="https://wawazhua.cn/post/java/other/elasticsearch-douban/">https://wawazhua.cn/post/java/other/elasticsearch-douban/</a></li>
            <li>版权声明:禁止转载-非商用-非衍生</li>
        </ul>
    </div>
</div>
                                            <div class="clear"></div>
                                        </div>
                                        

                                    </div>
                                    
                                </article>
                                
                                <div class="clear"></div>
                                <ul class="post-nav group">
                                    <li class="next">
                                        
                                        <a href="https://wawazhua.cn/post/go/basic/Command/" rel="next">
                                            <i class="fa fa-chevron-right"></i>
                                            <strong>Next</strong>
                                            <span>Go 命令</span>
                                        </a>
                                        
                                    </li>
                                    <li class="previous">
                                        
                                        <a href="https://wawazhua.cn/post/java/other/elasticsearch-api/" rel="prev">
                                            <i class="fa fa-chevron-left"></i>
                                            <strong>Previous</strong>
                                            <span>elasticsearch JAVA API</span>
                                        </a>
                                        
                                    </li>
                                </ul>
                                <br>


<h4 class="heading">相关</h4>
<ul class="related-posts group">
    
    <li class="related post-hover">
        <article class="post type-post status-publish format-standard has-post-thumbnail hentry">
            <div class="related-inner">
                <span class="post-date" style="font-size:14px">1.</span>
                <a href="https://wawazhua.cn/post/java/other/elasticsearch-api/" rel="bookmark" class="leancloud-count">elasticsearch JAVA API
                    (<span style="font-size:14px">0</span>)
                </a>
            </div>
        </article>
    </li>
    
    <li class="related post-hover">
        <article class="post type-post status-publish format-standard has-post-thumbnail hentry">
            <div class="related-inner">
                <span class="post-date" style="font-size:14px">2.</span>
                <a href="https://wawazhua.cn/post/java/other/elasticsearch/" rel="bookmark" class="leancloud-count">elasticsearch入门教程
                    (<span style="font-size:14px">0</span>)
                </a>
            </div>
        </article>
    </li>
    
</ul>

                                <h4 class="heading">阅读排行榜</h4>
<ul class="related-posts group" id="ranking_ul">
    <li class="related post-hover">
        <article class="post type-post status-publish format-standard has-post-thumbnail hentry">
            <div class="related-inner">
                <span class="post-date" style="font-size:14px">$index$. </span>
                <a href="$url$" rel="bookmark">$title$
                    <span class="post-date" style="font-size:14px">($hits$)</span>
                </a>
            </div>
        </article>
    </li>
</ul>

                                

<h4 class="heading">最新</h4>
<ul class="related-posts group">
    
    <li class="related post-hover">
        <article class="post type-post status-publish format-standard has-post-thumbnail hentry">
            <div class="related-inner">
                <span class="post-date" style="font-size:14px">1.</span>
                <a href="https://wawazhua.cn/post/java/other/elasticsearch-douban/" class="leancloud-count">爬取电影信息使用Elasticsearch检索
                    (<span class="post-date" style="font-size:14px">0</span>)
                </a>
            </div>
        </article>
    </li>
    
    <li class="related post-hover">
        <article class="post type-post status-publish format-standard has-post-thumbnail hentry">
            <div class="related-inner">
                <span class="post-date" style="font-size:14px">2.</span>
                <a href="https://wawazhua.cn/post/java/other/elasticsearch-api/" class="leancloud-count">elasticsearch JAVA API
                    (<span class="post-date" style="font-size:14px">0</span>)
                </a>
            </div>
        </article>
    </li>
    
    <li class="related post-hover">
        <article class="post type-post status-publish format-standard has-post-thumbnail hentry">
            <div class="related-inner">
                <span class="post-date" style="font-size:14px">3.</span>
                <a href="https://wawazhua.cn/post/java/other/elasticsearch/" class="leancloud-count">elasticsearch入门教程
                    (<span class="post-date" style="font-size:14px">0</span>)
                </a>
            </div>
        </article>
    </li>
    
    <li class="related post-hover">
        <article class="post type-post status-publish format-standard has-post-thumbnail hentry">
            <div class="related-inner">
                <span class="post-date" style="font-size:14px">4.</span>
                <a href="https://wawazhua.cn/post/java/spring/zeromq-springboot/" class="leancloud-count">SpringBoot集成ZeroMQ
                    (<span class="post-date" style="font-size:14px">0</span>)
                </a>
            </div>
        </article>
    </li>
    
    <li class="related post-hover">
        <article class="post type-post status-publish format-standard has-post-thumbnail hentry">
            <div class="related-inner">
                <span class="post-date" style="font-size:14px">5.</span>
                <a href="https://wawazhua.cn/post/java/other/github_login/" class="leancloud-count">集成通过github登录网站功能
                    (<span class="post-date" style="font-size:14px">0</span>)
                </a>
            </div>
        </article>
    </li>
    
    <li class="related post-hover">
        <article class="post type-post status-publish format-standard has-post-thumbnail hentry">
            <div class="related-inner">
                <span class="post-date" style="font-size:14px">6.</span>
                <a href="https://wawazhua.cn/post/go/basic/Command/" class="leancloud-count">Go 命令
                    (<span class="post-date" style="font-size:14px">0</span>)
                </a>
            </div>
        </article>
    </li>
    
    <li class="related post-hover">
        <article class="post type-post status-publish format-standard has-post-thumbnail hentry">
            <div class="related-inner">
                <span class="post-date" style="font-size:14px">7.</span>
                <a href="https://wawazhua.cn/post/go/basic/Images/" class="leancloud-count">Go 图像
                    (<span class="post-date" style="font-size:14px">0</span>)
                </a>
            </div>
        </article>
    </li>
    
    <li class="related post-hover">
        <article class="post type-post status-publish format-standard has-post-thumbnail hentry">
            <div class="related-inner">
                <span class="post-date" style="font-size:14px">8.</span>
                <a href="https://wawazhua.cn/post/go/basic/Crypto/" class="leancloud-count">Go 加解密
                    (<span class="post-date" style="font-size:14px">0</span>)
                </a>
            </div>
        </article>
    </li>
    
    <li class="related post-hover">
        <article class="post type-post status-publish format-standard has-post-thumbnail hentry">
            <div class="related-inner">
                <span class="post-date" style="font-size:14px">9.</span>
                <a href="https://wawazhua.cn/post/go/basic/ConsoleIO/" class="leancloud-count">Go 控制台输入
                    (<span class="post-date" style="font-size:14px">0</span>)
                </a>
            </div>
        </article>
    </li>
    
</ul>

                            </div>
                        </section>
                        <div class="sidebar s2">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="fa icon-sidebar-toggle"></i></a>
    <div class="sidebar-content">

        <div class="sidebar-top group">
            <ul class="social-links">
                <li class="social-links">
                    <a class="social-tooltip" title="weixin" onclick="makeCode()" target="_blank">
                        <i class="fa fa-weixin"></i>
                    </a>
                </li>
                <li class="social-links">
                    <a class="social-tooltip" title="weibo" href="http://v.t.sina.com.cn/share/share.php?title="
                        target="_blank">
                        <i class="fa fa-weibo"></i>
                    </a>
                </li>
                <li class="social-links">
                    <a class="social-tooltip" title="收藏" onclick="save()" target="_blank">
                        <i class="fa fa-star"></i>
                    </a>
                </li>
                <li class="social-links">
                    <a class="social-tooltip" title="qrcode" onclick="makeCode()" target="_blank">
                        <i class="fa fa-qrcode"></i>
                    </a>
                    <div id="weixin-qrcode" style="display: none;"></div>
                </li>
            </ul>
        </div>








        <div class="widget_categories">
            <div class="widget qrcode">
                <a target="_blank" href="https://curl.qcloud.com/LDfM9YWb">
                    <img src="img/tennew.jpg" />
                </a>
            </div>
        </div>

        

        
        
        <div id="relate" class="widget widget_recent_entries">
            <h3>相关</h3>
            <ul>
                
                <li><a href="https://wawazhua.cn/post/java/other/elasticsearch-api/">elasticsearch JAVA API</a></li>
                
                <li><a href="https://wawazhua.cn/post/java/other/elasticsearch/">elasticsearch入门教程</a></li>
                
            </ul>
        </div>
        

        <div id="recent" class="widget widget_recent_entries">
            <h3>最新</h3>
            <ul>
                
                <li><a href="https://wawazhua.cn/post/java/other/elasticsearch-douban/">爬取电影信息使用Elasticsearch检索</a></li>
                
                <li><a href="https://wawazhua.cn/post/java/other/elasticsearch-api/">elasticsearch JAVA API</a></li>
                
                <li><a href="https://wawazhua.cn/post/java/other/elasticsearch/">elasticsearch入门教程</a></li>
                
                <li><a href="https://wawazhua.cn/post/java/spring/zeromq-springboot/">SpringBoot集成ZeroMQ</a></li>
                
                <li><a href="https://wawazhua.cn/post/java/other/github_login/">集成通过github登录网站功能</a></li>
                
            </ul>
        </div>

        <div id="ranking_side" class="widget widget_rank_entries">
            <h3>热门</h3>
            <ul id="ranking_side_ul"></ul>
        </div>

        <div id="links" class="widget widget_links">
            <h3>链接</h3>
            <ul>
                <li class="cat-item cat-item-1">
                    <a href="https://wawazhua.cn/tools.html" target="_blank">在线工具</a>
                </li>
            </ul>
            <ul>
                <li class="cat-item cat-item-1">
                    <a href="https://wawazhua.cn/commav3.html" target="_blank">列数据整理</a>
                </li>
            </ul>





        </div>

        <div id="tags" class="widget">
            <h3>标签</h3>
            
            <a href='https://wawazhua.cn/tags/Go'
                style="font-size:17px;margin:3px; padding:2px"><code>Go(55)</code></a>
            
            <a href='https://wawazhua.cn/tags/Java'
                style="font-size:17px;margin:3px; padding:2px"><code>Java(22)</code></a>
            
            <a href='https://wawazhua.cn/tags/RocketMQ'
                style="font-size:17px;margin:3px; padding:2px"><code>RocketMQ(2)</code></a>
            
            <a href='https://wawazhua.cn/tags/elasticsearch'
                style="font-size:17px;margin:3px; padding:2px"><code>elasticsearch(3)</code></a>
            
            <a href='https://wawazhua.cn/tags/git'
                style="font-size:17px;margin:3px; padding:2px"><code>git(2)</code></a>
            
            <a href='https://wawazhua.cn/tags/html'
                style="font-size:17px;margin:3px; padding:2px"><code>html(1)</code></a>
            
            <a href='https://wawazhua.cn/tags/jQuery'
                style="font-size:17px;margin:3px; padding:2px"><code>jQuery(2)</code></a>
            
            <a href='https://wawazhua.cn/tags/ks8'
                style="font-size:17px;margin:3px; padding:2px"><code>ks8(2)</code></a>
            
            <a href='https://wawazhua.cn/tags/linux'
                style="font-size:17px;margin:3px; padding:2px"><code>linux(2)</code></a>
            
            <a href='https://wawazhua.cn/tags/maven'
                style="font-size:17px;margin:3px; padding:2px"><code>maven(1)</code></a>
            
            <a href='https://wawazhua.cn/tags/mysql'
                style="font-size:17px;margin:3px; padding:2px"><code>mysql(3)</code></a>
            
            <a href='https://wawazhua.cn/tags/netty'
                style="font-size:17px;margin:3px; padding:2px"><code>netty(8)</code></a>
            
            <a href='https://wawazhua.cn/tags/oauth2'
                style="font-size:17px;margin:3px; padding:2px"><code>oauth2(3)</code></a>
            
            <a href='https://wawazhua.cn/tags/opencv'
                style="font-size:17px;margin:3px; padding:2px"><code>opencv(1)</code></a>
            
            <a href='https://wawazhua.cn/tags/redis'
                style="font-size:17px;margin:3px; padding:2px"><code>redis(3)</code></a>
            
            <a href='https://wawazhua.cn/tags/spring'
                style="font-size:17px;margin:3px; padding:2px"><code>spring(3)</code></a>
            
            <a href='https://wawazhua.cn/tags/springboot'
                style="font-size:17px;margin:3px; padding:2px"><code>springboot(6)</code></a>
            
            <a href='https://wawazhua.cn/tags/springcloud'
                style="font-size:17px;margin:3px; padding:2px"><code>springcloud(5)</code></a>
            
            <a href='https://wawazhua.cn/tags/tool'
                style="font-size:17px;margin:3px; padding:2px"><code>tool(4)</code></a>
            
            <a href='https://wawazhua.cn/tags/zookeeper'
                style="font-size:17px;margin:3px; padding:2px"><code>zookeeper(7)</code></a>
            
            <a href='https://wawazhua.cn/tags/%E7%AE%97%E6%B3%95'
                style="font-size:17px;margin:3px; padding:2px"><code>算法(3)</code></a>
            
            <a href='https://wawazhua.cn/tags/%E8%8B%B1%E8%AF%AD'
                style="font-size:17px;margin:3px; padding:2px"><code>英语(32)</code></a>
            
        </div>

        <div id="donate" class="widget widget_recent_entries">
            <h3>支持</h3>
            <div class="widget qrcode">
                <img src="img/zan.png" alt="weixin" width="172px" height="172px" />
                <p> </p>
            </div>
        </div>

        <div class="widget_categories">
            <div class="widget qrcode">
                <a target="_blank" href="https://curl.qcloud.com/xwMs86TX">
                    <img src="img/11.jpg" alt="weixin" />
                </a>
            </div>
        </div>

    </div>
</div>
                    </div>
                </div>
            </div>
        </div>
        <footer id="footer">
  <section class="container" id="footer-bottom">
    <div class="container-inner">
      <div class="group" style="padding:5px 0px">
        <div class="grid one-third">
          <div style="padding:10px 0px;font-size:14px">
            Hosted by <a href="https://pages.coding.me" style="font-weight: bold" target="_blank">Coding Pages </a>
            · Powered by <a href="https://leancloud.cn/" style="font-weight: bold" target="_blank">LeanCloud</a>
          </div>
          
        </div>
        
        <div class="grid one-third">
          <div style="padding:10px 0px;text-align:center;font-size:14px">
            <span> ©2018 · 保留所有权利 </span>
            
          </div>
        </div>
        <div class="grid one-third last">
          <ul class="social-links">
            <li>
              <a class="social-tooltip" title="On Twitter" href="https://twitter.com/luangeng1" target="_blank">
                <i class="fa fa-twitter"></i>
              </a>
            </li>
            <li>
              <a class="social-tooltip" title="On GitHub" href="https://github.com/luangeng" target="_blank">
                <i class="fa fa-github"></i>
              </a>
            </li>
            <li>
              <a class="social-tooltip" title="On LinkedIn" href="https://www.linkedin.com/luangeng" target="_blank">
                <i class="fa fa-linkedin-square"></i>
              </a>
            </li>
            <li>
              <a class="social-tooltip" title="On FaceBook" href="https://www.facebook.com/geng.luan.73/"
                target="_blank">
                <i class="fa fa-facebook-square"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>

    </div>
    
  </section>
  
</footer>

<a href="#" id="back-to-top" style="display: none"><i class="fa fa-angle-up"></i></a>
    </div>
    <script type="text/javascript" src="js/highlight.pack.js"></script>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="themes/hueman/js/scripts.js"></script>
<script type="text/javascript" src="js/picturefill.min.js"></script>
<script type="text/javascript" src="js/jquery.matchHeight-min.js"></script>
<script type="text/javascript" src="js/qrcode.min.js"></script>
<script type="text/javascript" src="js/av-core-mini-0.6.1.js"></script>

<script type="text/javascript" src="js/sweetalert2.all.min.js"></script>
<script type="text/javascript" src="js/my.js"></script>
<script>
    init();
</script>
</body>

</html>